# Git flow

## Ветки

В проекте можно создавать ветки, которые подходят под регулярное выражение `^(dev|hotfix)(\/[A-Z]+-[0-9]+)?$`.
Например:

* `dev/FRFR-1234`
* `hotfix/FRFR-1234`

## Коммиты

Данный проект использует [conventional commits](https://www.conventionalcommits.org/).

## Разработка

* От ветки `stage` создается рабочая ветка `dev/{Jira Project}-{Task Number}`
  * Если необходимо интеграционное тестирование, в пайплайне доступна джоба `release:dev`, публикующая текущую
    сборку в registry
* Создается MR из рабочей ветки в ветку `stage`
* После апрува MR он мерджится в `stage`
  * Если необходимо интеграционное тестирование, в пайплайне доступна джоба `release:stage`, публикующая текущую 
    сборку в registry

## Релизы

Релиз происходит раз в неделю перед закрытием спринта.

* Создается MR из ветки `stage` в ветку `master`
* После апрува MRa он мерджится в `master`
* В пайплайне для ветки `master` запускается джоба `release`, публикующая новую версию в registry

## Хотфиксы

* От ветки `master` создается рабочая ветка `hotfix/{Jira Project}-{Task Number}`
  * Если необходимо интеграционное тестирование, в пайплайне доступна джоба `release:dev`, публикующая текущую
    сборку в registry
* Создается MR из рабочей ветки в ветку `master`
* После апрува MRa он мерджится в `master`
* В пайплайне для ветки `master` запускается джоба `release`, публикующая новую версию в registry
